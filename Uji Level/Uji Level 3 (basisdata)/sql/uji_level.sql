-- phpMyAdmin SQL Dump
-- version 5.0.2
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Waktu pembuatan: 12 Mar 2021 pada 09.09
-- Versi server: 10.4.14-MariaDB
-- Versi PHP: 7.4.10

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `uji_level`
--

DELIMITER $$
--
-- Prosedur
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `CekBarangHapus` ()  BEGIN
SELECT * FROM
stockbarang WHERE deleted_at IS NOT NULL;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `CekBarangKejual` (IN `namaBarang` VARCHAR(20))  BEGIN
SELECT 
stockbarang.nama AS nama_barang, 
SUM(orderbarang.stock) AS total_kejual, 
SUM(orderbarang.stock) * stockbarang.harga AS total_harga
FROM orderbarang, stockbarang
WHERE orderbarang.barang_id = stockbarang.id
AND stockbarang.nama = namaBarang;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `CekStockBarang` (IN `val` VARCHAR(20))  BEGIN
SELECT nama,stock,harga,created_at FROM stockbarang WHERE nama = val ;
END$$

--
-- Fungsi
--
CREATE DEFINER=`root`@`localhost` FUNCTION `CekHapusBarang` (`barang` VARCHAR(20)) RETURNS VARCHAR(200) CHARSET utf8mb4 BEGIN
DECLARE deleted_at DATE;
SELECT stockbarang.deleted_at INTO deleted_at FROM stockbarang
WHERE stockbarang.nama = barang; 
IF(deleted_at)THEN
RETURN 
CONCAT("Barang ini sudah di hapus pada tanggal ",deleted_at);
ELSE
RETURN "Barang ini masih belum di hapus";
END IF;
END$$

CREATE DEFINER=`root`@`localhost` FUNCTION `CekPenjualan` (`barang` VARCHAR(20)) RETURNS VARCHAR(100) CHARSET utf8mb4 BEGIN
DECLARE stock int;
SELECT COUNT(*) INTO stock FROM orderbarang,stockbarang
WHERE orderbarang.barang_id = stockbarang.id 
AND stockbarang.nama = barang; 
IF(stock>1)THEN
RETURN 
CONCAT("Total penjualan ",barang," adalah ",stock," Buah");
ELSE
RETURN "Anda belum menjual satu pun dari barang ini";
END IF;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Struktur dari tabel `belibarang`
--

CREATE TABLE `belibarang` (
  `id` int(11) NOT NULL,
  `jumlah_barang` int(11) NOT NULL,
  `total_harga` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data untuk tabel `belibarang`
--

INSERT INTO `belibarang` (`id`, `jumlah_barang`, `total_harga`, `created_at`) VALUES
(507, 9, 68594, '2021-03-08 00:40:43'),
(508, 4, 72000, '2021-03-08 00:42:40'),
(509, 2, 36000, '2021-03-08 01:05:16'),
(510, 5, 18072, '2021-03-08 01:16:34'),
(511, 2, 36000, '2021-03-08 01:23:13'),
(512, 2, 36000, '2021-03-08 01:24:53'),
(513, 1, 18000, '2021-03-08 01:24:57'),
(514, 5, 36054, '2021-03-08 02:06:22'),
(515, 3, 36018, '2021-03-08 03:08:27'),
(516, 0, 0, '0000-00-00 00:00:00'),
(517, 0, 0, '0000-00-00 00:00:00'),
(518, 0, 0, '0000-00-00 00:00:00'),
(519, 0, 0, '0000-00-00 00:00:00'),
(520, 0, 0, '0000-00-00 00:00:00'),
(521, 0, 0, '0000-00-00 00:00:00'),
(522, 0, 0, '0000-00-00 00:00:00'),
(523, 0, 0, '0000-00-00 00:00:00'),
(524, 1, 18000, '2021-03-08 05:14:35'),
(525, 3, 54000, '2021-03-08 05:14:57'),
(526, 3, 54000, '2021-03-08 05:15:06'),
(527, 57, 378000, '2021-03-08 06:31:31'),
(528, 27, 14742000, '2021-03-08 06:51:04'),
(529, 22, 39600000, '2021-03-08 06:56:23'),
(530, 6, 108000, '2021-03-08 07:29:42'),
(531, 3, 54000, '2021-03-08 07:34:42'),
(532, 2, 40000, '2021-03-08 07:40:57'),
(533, 2, 40000, '2021-03-08 07:41:04'),
(534, 3, 60000, '2021-03-08 07:44:17'),
(535, 7, 95000, '2021-03-08 08:31:21'),
(536, 4, 60000, '2021-03-08 08:31:26'),
(537, 4, 60000, '2021-03-08 08:59:49'),
(538, 5, 80000, '2021-03-08 17:07:08'),
(539, 1, 4500, '2021-03-08 17:10:07'),
(540, 0, 0, '2021-03-08 18:06:53'),
(541, 1, 20000, '2021-03-08 18:54:05'),
(542, 1, 20000, '2021-03-08 18:55:09'),
(543, 4, 80000, '2021-03-08 19:01:30'),
(544, 0, 0, '0000-00-00 00:00:00'),
(545, 0, 0, '0000-00-00 00:00:00'),
(546, 0, 0, '0000-00-00 00:00:00'),
(547, 0, 0, '0000-00-00 00:00:00'),
(548, 0, 0, '0000-00-00 00:00:00'),
(549, 0, 0, '0000-00-00 00:00:00'),
(550, 0, 0, '0000-00-00 00:00:00'),
(551, 0, 0, '0000-00-00 00:00:00'),
(552, 0, 0, '0000-00-00 00:00:00'),
(553, 0, 0, '0000-00-00 00:00:00'),
(554, 0, 0, '0000-00-00 00:00:00'),
(555, 0, 0, '0000-00-00 00:00:00'),
(556, 5, 43000, '2021-03-08 19:38:06'),
(557, 3, 15000, '2021-03-08 19:49:03'),
(558, 1, 4500, '2021-03-08 19:55:02'),
(559, 1, 900, '2021-03-08 20:04:51'),
(560, 0, 0, '0000-00-00 00:00:00'),
(561, 1, 20000, '2021-03-08 20:08:32'),
(562, 2, 9000, '2021-03-08 20:08:52'),
(563, 0, 0, '0000-00-00 00:00:00'),
(564, 0, 0, '0000-00-00 00:00:00'),
(565, 0, 0, '0000-00-00 00:00:00'),
(566, 2, 9000, '2021-03-08 20:13:35'),
(567, 1, 900, '2021-03-08 20:25:27'),
(568, 1, 900, '2021-03-08 20:25:32'),
(569, 1, 900, '2021-03-08 20:25:41'),
(570, 1, 900, '2021-03-08 20:25:45'),
(571, 1, 900, '2021-03-08 20:25:48'),
(572, 1, 900, '2021-03-08 20:26:01'),
(573, 1, 900, '2021-03-08 20:26:04'),
(574, 1, 900, '2021-03-08 20:26:46'),
(575, 1, 900, '2021-03-08 20:26:58'),
(576, 1, 900, '2021-03-08 20:27:30'),
(577, 1, 900, '2021-03-08 20:27:35'),
(578, 1, 900, '2021-03-08 20:27:46'),
(579, 1, 900, '2021-03-08 20:27:54'),
(580, 1, 900, '2021-03-08 20:27:58'),
(581, 1, 900, '2021-03-08 20:28:08'),
(582, 0, 0, '0000-00-00 00:00:00'),
(583, 0, 0, '0000-00-00 00:00:00'),
(584, 0, 0, '0000-00-00 00:00:00'),
(585, 0, 0, '0000-00-00 00:00:00'),
(586, 0, 0, '0000-00-00 00:00:00'),
(587, 0, 0, '0000-00-00 00:00:00'),
(588, 0, 0, '0000-00-00 00:00:00'),
(589, 0, 0, '0000-00-00 00:00:00'),
(590, 0, 0, '0000-00-00 00:00:00'),
(591, 0, 0, '0000-00-00 00:00:00'),
(592, 0, 0, '0000-00-00 00:00:00'),
(593, 0, 0, '0000-00-00 00:00:00'),
(594, 0, 0, '0000-00-00 00:00:00'),
(595, 0, 0, '0000-00-00 00:00:00'),
(596, 0, 0, '0000-00-00 00:00:00'),
(597, 0, 0, '0000-00-00 00:00:00'),
(598, 0, 0, '0000-00-00 00:00:00'),
(599, 0, 0, '0000-00-00 00:00:00'),
(600, 0, 0, '0000-00-00 00:00:00'),
(601, 0, 0, '0000-00-00 00:00:00'),
(602, 0, 0, '0000-00-00 00:00:00'),
(603, 0, 0, '0000-00-00 00:00:00'),
(604, 0, 0, '0000-00-00 00:00:00'),
(605, 0, 0, '0000-00-00 00:00:00'),
(606, 0, 0, '0000-00-00 00:00:00'),
(607, 0, 0, '0000-00-00 00:00:00'),
(608, 0, 0, '0000-00-00 00:00:00'),
(609, 0, 0, '0000-00-00 00:00:00'),
(610, 0, 0, '0000-00-00 00:00:00'),
(611, 0, 0, '0000-00-00 00:00:00'),
(612, 1, 900, '2021-03-08 20:29:53'),
(613, 0, 0, '0000-00-00 00:00:00'),
(614, 0, 0, '0000-00-00 00:00:00'),
(615, 1, 20000, '2021-03-08 20:31:34'),
(616, 1, 20000, '2021-03-08 20:35:57'),
(617, 1, 20000, '2021-03-08 20:36:01'),
(618, 1, 20000, '2021-03-08 21:10:06'),
(619, 1, 20000, '2021-03-08 21:10:45'),
(620, 1, 20000, '2021-03-08 21:10:50'),
(621, 0, 0, '0000-00-00 00:00:00'),
(622, 0, 0, '0000-00-00 00:00:00'),
(623, 0, 0, '0000-00-00 00:00:00'),
(624, 2, 40000, '2021-03-08 21:12:41'),
(625, 0, 0, '0000-00-00 00:00:00'),
(626, 1, 20000, '2021-03-08 21:12:50'),
(627, 0, 0, '0000-00-00 00:00:00'),
(628, 1, 20000, '2021-03-08 21:13:08'),
(629, 1, 0, '2021-03-08 21:22:30'),
(630, 1, 0, '2021-03-08 21:22:36'),
(631, 1, 0, '2021-03-08 21:22:38'),
(632, 1, 0, '2021-03-08 21:22:41'),
(633, 1, 0, '2021-03-08 21:22:43'),
(634, 1, 0, '2021-03-08 21:30:26'),
(635, 1, 0, '2021-03-08 21:35:38'),
(636, 4, 60000, '2021-03-08 21:35:56'),
(637, 2, 40000, '2021-03-08 21:36:20'),
(638, 3, 30000, '2021-03-08 21:55:01'),
(639, 1, 9000, '2021-03-08 21:55:11'),
(640, 1, 9000, '2021-03-08 21:55:16'),
(641, 1, 18000, '2021-03-08 22:30:21'),
(642, 1, 18000, '2021-03-08 22:30:31'),
(643, 9, 90000, '2021-03-09 00:22:15'),
(644, 9, 90000, '2021-03-09 01:37:15'),
(645, 3, 30000, '2021-03-09 01:37:37'),
(646, 2, 20000, '2021-03-09 01:37:52'),
(647, 2, 20000, '2021-03-09 01:38:05'),
(648, 3, 30000, '2021-03-09 01:38:14'),
(649, 2, 20000, '2021-03-09 01:38:52'),
(650, 4, 40000, '2021-03-09 01:39:10'),
(651, 8, 80000, '2021-03-09 01:39:52'),
(652, 5, 52000, '2021-03-09 01:45:48'),
(653, 21, 3364000, '2021-03-09 01:51:05'),
(654, 4, 40000, '2021-03-09 19:31:27'),
(655, 4, 54000, '2021-03-09 19:31:43'),
(656, 9, 113000, '2021-03-10 00:01:27'),
(657, 5, 9000, '2021-03-10 00:04:17'),
(658, 2, 25000, '2021-03-10 03:23:41'),
(659, 2, 12000, '2021-03-10 03:24:06'),
(660, 3, 30000, '2021-03-10 03:25:31'),
(661, 4, 60000, '2021-03-10 03:26:30'),
(662, 4, 53000, '2021-03-10 03:37:15'),
(663, 4, 53000, '2021-03-10 03:37:19'),
(664, 5, 68000, '2021-03-10 03:37:49'),
(665, 6, 78000, '2021-03-10 03:37:51'),
(666, 6, 78000, '2021-03-10 03:37:53'),
(667, 6, 78000, '2021-03-10 03:37:55'),
(668, 6, 78000, '2021-03-10 03:37:58'),
(669, 6, 78000, '2021-03-10 03:38:19'),
(670, 6, 78000, '2021-03-10 03:39:01'),
(671, 1, 15000, '2021-03-10 03:42:40'),
(672, 4, 66000, '2021-03-10 03:43:02'),
(673, 3, 43000, '2021-03-10 03:43:58'),
(674, 3, 46000, '2021-03-10 03:45:10'),
(675, 2, 24000, '2021-03-10 03:45:46'),
(676, 14, 120000, '2021-03-10 03:46:18'),
(677, 8, 108000, '2021-03-10 04:07:10'),
(678, 8, 108000, '2021-03-10 04:07:15'),
(679, 6, 93000, '2021-03-10 04:07:45'),
(680, 3, 47000, '2021-03-10 04:08:53'),
(681, 3, 47000, '2021-03-10 04:09:13'),
(682, 3, 36000, '2021-03-10 04:09:42'),
(683, 2, 24000, '2021-03-10 04:10:06'),
(684, 3, 36000, '2021-03-10 04:11:19'),
(685, 3, 36000, '2021-03-10 04:14:26'),
(686, 3, 36000, '2021-03-10 04:14:50'),
(687, 3, 47000, '2021-03-10 04:15:02'),
(688, 3, 26000, '2021-03-10 04:18:17'),
(689, 3, 31000, '2021-03-10 04:24:57'),
(690, 2, 24000, '2021-03-10 04:44:47'),
(691, 4, 48000, '2021-03-12 01:20:40'),
(692, 4, 48000, '2021-03-12 01:20:43'),
(693, 1, 12000, '2021-03-12 01:21:00'),
(694, 1, 12000, '2021-03-12 01:21:13'),
(695, 1, 12000, '2021-03-12 01:21:46'),
(696, 1, 12000, '2021-03-12 01:24:10'),
(697, 1, 12000, '2021-03-12 01:24:12'),
(698, 1, 12000, '2021-03-12 01:26:12'),
(699, 1, 12000, '2021-03-12 01:27:37'),
(700, 1, 12000, '2021-03-12 01:28:33'),
(701, 1, 12000, '2021-03-12 01:29:31'),
(702, 1, 12000, '2021-03-12 01:29:38'),
(703, 5, 56000, '2021-03-12 01:30:07'),
(704, 4, 44000, '2021-03-12 01:31:35'),
(705, 4, 44000, '2021-03-12 01:34:25'),
(706, 4, 44000, '2021-03-12 01:35:01'),
(707, 4, 44000, '2021-03-12 01:35:38'),
(708, 11, 132000, '2021-03-12 01:36:39'),
(709, 5, 30000, '2021-03-12 02:08:05');

-- --------------------------------------------------------

--
-- Struktur dari tabel `orderbarang`
--

CREATE TABLE `orderbarang` (
  `id` int(11) NOT NULL,
  `barang_id` int(11) NOT NULL,
  `belibarang_id` int(11) NOT NULL,
  `stock` int(11) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data untuk tabel `orderbarang`
--

INSERT INTO `orderbarang` (`id`, `barang_id`, `belibarang_id`, `stock`, `created_at`) VALUES
(202, 71, 638, 3, '2021-03-08 21:55:01'),
(203, 71, 639, 1, '2021-03-08 21:55:11'),
(204, 71, 640, 1, '2021-03-08 21:55:16'),
(205, 77, 641, 1, '2021-03-08 22:30:21'),
(206, 77, 642, 1, '2021-03-08 22:30:31'),
(207, 71, 643, 5, '2021-03-09 00:22:15'),
(208, 72, 643, 4, '2021-03-09 00:22:15'),
(209, 71, 644, 5, '2021-03-09 01:37:15'),
(210, 75, 644, 4, '2021-03-09 01:37:15'),
(211, 71, 645, 3, '2021-03-09 01:37:37'),
(212, 71, 646, 2, '2021-03-09 01:37:52'),
(213, 72, 647, 2, '2021-03-09 01:38:05'),
(214, 75, 648, 1, '2021-03-09 01:38:14'),
(215, 72, 648, 2, '2021-03-09 01:38:14'),
(216, 72, 649, 2, '2021-03-09 01:38:52'),
(217, 73, 650, 2, '2021-03-09 01:39:10'),
(218, 74, 650, 2, '2021-03-09 01:39:10'),
(219, 73, 651, 4, '2021-03-09 01:39:52'),
(220, 74, 651, 4, '2021-03-09 01:39:52'),
(221, 73, 652, 2, '2021-03-09 01:45:48'),
(222, 78, 652, 3, '2021-03-09 01:45:48'),
(223, 75, 653, 1, '2021-03-09 01:51:05'),
(225, 78, 653, 2, '2021-03-09 01:51:05'),
(226, 73, 654, 2, '2021-03-09 19:31:27'),
(227, 74, 654, 2, '2021-03-09 19:31:27'),
(228, 74, 655, 2, '2021-03-09 19:31:43'),
(229, 78, 655, 1, '2021-03-09 19:31:43'),
(230, 77, 655, 1, '2021-03-09 19:31:43'),
(231, 75, 656, 5, '2021-03-10 00:01:27'),
(232, 76, 656, 3, '2021-03-10 00:01:27'),
(233, 77, 656, 1, '2021-03-10 00:01:27'),
(234, 85, 657, 5, '2021-03-10 00:04:17'),
(235, 75, 658, 1, '2021-03-10 03:23:41'),
(236, 76, 658, 1, '2021-03-10 03:23:41'),
(237, 85, 659, 1, '2021-03-10 03:24:06'),
(238, 84, 659, 1, '2021-03-10 03:24:06'),
(239, 75, 660, 3, '2021-03-10 03:25:31'),
(240, 78, 661, 2, '2021-03-10 03:26:30'),
(241, 77, 661, 2, '2021-03-10 03:26:30'),
(266, 75, 670, 3, '2021-03-10 03:39:01'),
(267, 76, 670, 2, '2021-03-10 03:39:01'),
(268, 77, 670, 1, '2021-03-10 03:39:01'),
(269, 76, 671, 1, '2021-03-10 03:42:40'),
(270, 76, 672, 2, '2021-03-10 03:43:02'),
(271, 77, 672, 2, '2021-03-10 03:43:02'),
(272, 75, 673, 1, '2021-03-10 03:43:58'),
(273, 76, 673, 1, '2021-03-10 03:43:58'),
(274, 77, 673, 1, '2021-03-10 03:43:58'),
(275, 75, 674, 1, '2021-03-10 03:45:10'),
(276, 77, 674, 2, '2021-03-10 03:45:10'),
(277, 78, 675, 2, '2021-03-10 03:45:46'),
(278, 74, 676, 6, '2021-03-10 03:46:18'),
(279, 79, 676, 8, '2021-03-10 03:46:18'),
(280, 74, 677, 2, '2021-03-10 04:07:10'),
(281, 84, 677, 3, '2021-03-10 04:07:10'),
(283, 74, 678, 2, '2021-03-10 04:07:15'),
(284, 84, 678, 3, '2021-03-10 04:07:15'),
(286, 81, 679, 3, '2021-03-10 04:07:45'),
(287, 82, 679, 2, '2021-03-10 04:07:45'),
(289, 81, 680, 1, '2021-03-10 04:08:53'),
(290, 82, 680, 1, '2021-03-10 04:08:53'),
(292, 81, 681, 1, '2021-03-10 04:09:13'),
(293, 82, 681, 1, '2021-03-10 04:09:13'),
(295, 74, 682, 2, '2021-03-10 04:09:42'),
(296, 78, 682, 1, '2021-03-10 04:09:42'),
(297, 78, 683, 1, '2021-03-10 04:10:06'),
(298, 74, 683, 1, '2021-03-10 04:10:06'),
(299, 74, 684, 2, '2021-03-10 04:11:19'),
(300, 78, 684, 1, '2021-03-10 04:11:19'),
(301, 74, 685, 1, '2021-03-10 04:14:26'),
(302, 82, 685, 1, '2021-03-10 04:14:26'),
(303, 78, 685, 1, '2021-03-10 04:14:26'),
(304, 74, 686, 1, '2021-03-10 04:14:50'),
(305, 82, 686, 1, '2021-03-10 04:14:50'),
(306, 78, 686, 1, '2021-03-10 04:14:50'),
(307, 78, 687, 1, '2021-03-10 04:15:02'),
(308, 81, 687, 1, '2021-03-10 04:15:02'),
(310, 74, 688, 1, '2021-03-10 04:18:17'),
(311, 82, 688, 1, '2021-03-10 04:18:17'),
(312, 85, 688, 1, '2021-03-10 04:18:17'),
(313, 82, 689, 1, '2021-03-10 04:24:57'),
(314, 81, 689, 1, '2021-03-10 04:24:57'),
(315, 85, 689, 1, '2021-03-10 04:24:57'),
(316, 74, 690, 1, '2021-03-10 04:44:47'),
(317, 78, 690, 1, '2021-03-10 04:44:47'),
(341, 91, 707, 1, '2021-03-12 01:35:38'),
(342, 78, 707, 3, '2021-03-12 01:35:38'),
(343, 74, 708, 1, '2021-03-12 01:36:39'),
(344, 78, 708, 10, '2021-03-12 01:36:39'),
(345, 79, 709, 5, '2021-03-12 02:08:05');

--
-- Trigger `orderbarang`
--
DELIMITER $$
CREATE TRIGGER `after_delete_orderbarang` AFTER DELETE ON `orderbarang` FOR EACH ROW BEGIN
UPDATE stockbarang
SET
stockbarang.stock = stockbarang.stock + old.stock WHERE stockbarang.id = OLD.barang_id;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `after_insert_orderbarang` AFTER INSERT ON `orderbarang` FOR EACH ROW BEGIN
	UPDATE stockbarang 
    SET stockbarang.stock = stockbarang.stock - new.stock WHERE stockbarang.id = new.barang_id;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Struktur dari tabel `stockbarang`
--

CREATE TABLE `stockbarang` (
  `id` int(11) NOT NULL,
  `nama` varchar(255) NOT NULL,
  `harga` int(11) NOT NULL,
  `stock` int(11) NOT NULL,
  `gambar` varchar(255) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data untuk tabel `stockbarang`
--

INSERT INTO `stockbarang` (`id`, `nama`, `harga`, `stock`, `gambar`, `created_at`, `deleted_at`) VALUES
(71, 'Sate padang', 10000, 0, 'http://kbu-cdn.com/dk/wp-content/uploads/sate-kakul.jpg', '2021-03-11 09:13:12', '2021-03-01 09:13:08'),
(72, 'Tempe Goreng', 10000, 0, 'https://asset.kompas.com/crops/iEJb6R_R0VbEDp59hCH4DzgvxxE=/0x41:1000x708/750x500/data/photo/2020/04/01/5e841eccea33c.jpg', '2021-03-09 07:38:52', NULL),
(73, 'Bakso kuah', 8000, 0, 'https://statik.tempo.co/data/2018/06/03/id_709908/709908_720.jpg', '2021-03-10 01:31:27', NULL),
(74, 'Martabak', 12000, 0, 'http://asset-a.grid.id/crop/0x0:0x0/x/photo/2018/06/12/32757420.jpg', '2021-03-12 07:36:41', NULL),
(75, 'Kentang Goreng', 10000, 0, 'https://img.okezone.com/content/2018/07/11/298/1920897/membuat-kentang-goreng-rumahan-serenyah-di-restoran-PzeLEom9j8.jpg', '2021-03-10 09:45:10', NULL),
(76, 'Mie goreng', 15000, 0, 'http://kbu-cdn.com/dk/wp-content/uploads/mie-goreng-saus-tiram.jpg', '2021-03-10 09:43:58', NULL),
(77, 'Kwetiau goreng', 18000, 0, 'https://www.masakapahariini.com/wp-content/uploads/2020/09/kwetiau-goreng-seafood-780x440.jpg', '2021-03-10 09:45:10', NULL),
(78, 'Iga Goreng', 12000, 0, 'https://cdn-2.tstatic.net/jogja/foto/bank/images/iga-bakar-sapi.jpg', '2021-03-12 07:36:41', NULL),
(79, 'Siomay', 6000, 15, 'http://kbu-cdn.com/dk/wp-content/uploads/siomay-praktis.jpg', '2021-03-12 08:08:05', NULL),
(81, 'Burger', 17000, 3, 'https://www.rukita.co/stories/wp-content/uploads/2020/02/byurger.jpg', '2021-03-10 10:24:57', NULL),
(82, 'Pizza', 12000, 2, 'https://www.kabarbisnis.com/images/picture/202010/754-PizzaHut.jpg', '2021-03-11 10:09:22', '2021-03-11 04:09:22'),
(83, 'Cilok', 5000, 20, 'https://img.inews.co.id/media/822/files/inews_new/2020/03/30/IMG_30032020_182439__822_x_430_piksel_.jpg', '2021-03-11 09:42:53', '2021-03-11 03:42:53'),
(84, 'Nasi goreng', 10000, 20, 'https://www.denpasarkota.go.id/uploads/datang/datang_192709040901_5WarungNasiGorengLezatdenganHargayangBersahabat.jpg', '2021-03-11 09:34:45', '2021-03-11 03:34:45'),
(85, 'Kripik Singkong', 2000, 2, 'https://asset.kompas.com/crops/-J7WiKZ7PvZGagZz-F3AJrI_4S8=/0x46:700x513/750x500/data/photo/2020/08/24/5f43a77a3c43e.jpg', '2021-03-11 09:33:27', '2021-03-11 03:33:27'),
(87, '4234234', 20000, 20, 'https://sejarahlengkap.com/wp-content/uploads/2017/03/gitar-1280x720.jpg', '2021-03-11 18:20:29', '2021-03-11 12:20:29'),
(88, 'kejuruan', 20000, 20, 'https://sejarahlengkap.com/wp-content/uploads/2017/03/gitar-1280x720.jpg', '2021-03-11 18:20:26', '2021-03-11 12:20:26'),
(89, 'gerg', 20000, 20, 'https://sejarahlengkap.com/wp-content/uploads/2017/03/gitar-1280x720.jpg', '2021-03-11 10:16:38', '2021-03-11 04:16:38'),
(90, 'Tahu Goreng', 12000, 20, 'https://cdn-2.tstatic.net/palembang/foto/bank/images/tahu-goreng.jpg', '2021-03-11 17:00:00', NULL),
(91, 'Mie Kuah', 8000, 9, 'http://www.pengusahasukses.com/wp-content/uploads/2016/06/mie-kuah-pedas-pengusahasukses.jpg', '2021-03-12 07:35:38', NULL);

--
-- Indexes for dumped tables
--

--
-- Indeks untuk tabel `belibarang`
--
ALTER TABLE `belibarang`
  ADD PRIMARY KEY (`id`);

--
-- Indeks untuk tabel `orderbarang`
--
ALTER TABLE `orderbarang`
  ADD PRIMARY KEY (`id`),
  ADD KEY `barang_id` (`barang_id`),
  ADD KEY `belibarang_id` (`belibarang_id`);

--
-- Indeks untuk tabel `stockbarang`
--
ALTER TABLE `stockbarang`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT untuk tabel yang dibuang
--

--
-- AUTO_INCREMENT untuk tabel `belibarang`
--
ALTER TABLE `belibarang`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=710;

--
-- AUTO_INCREMENT untuk tabel `orderbarang`
--
ALTER TABLE `orderbarang`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=346;

--
-- AUTO_INCREMENT untuk tabel `stockbarang`
--
ALTER TABLE `stockbarang`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=92;

--
-- Ketidakleluasaan untuk tabel pelimpahan (Dumped Tables)
--

--
-- Ketidakleluasaan untuk tabel `orderbarang`
--
ALTER TABLE `orderbarang`
  ADD CONSTRAINT `orderbarang_ibfk_1` FOREIGN KEY (`barang_id`) REFERENCES `stockbarang` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `orderbarang_ibfk_2` FOREIGN KEY (`belibarang_id`) REFERENCES `belibarang` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
